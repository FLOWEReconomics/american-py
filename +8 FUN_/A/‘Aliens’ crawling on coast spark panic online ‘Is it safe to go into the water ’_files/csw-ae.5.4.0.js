(this.webpackJsonpCSW=this.webpackJsonpCSW||[]).push([[1],{63:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(0),c=n(1),o=n(9),i=n.n(o),l=n(11),u=n(15);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(c.push(r.value),!e||c.length!==e);o=!0);}catch(t){i=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d=Object(l.connect)("",u.a)((function(t){var e=t.rootbeer,n=t.getAd,o=t.jot,i=e||{},l=i.width,u=i.url,s=i.platform,d=f(Object(r.n)(null),2),b=d[0],m=d[1],p=f(Object(r.n)(!1),2),y=p[0],v=p[1],h=f(Object(r.n)(null),2),g=h[0],w=h[1];if(Object(r.j)((function(){Object(c.U)(b)&&!y&&(v(!0),n(e,(function(t){if(m(t),t&&t.id&&o({space:"ae",type:a.m.Imp,data:{id:t.id,platform:s}}),t&&t.pixels&&Object(c.N)(t.pixels)){var e=t.pixels.filter((function(t){return"available"===t.event||"visible"===t.event})).map((function(t){return t.url}));Object(c.n)(e)}v(!1)})))}),[e]),Object(c.U)(b)||b===c.b.AD_NOT_FOUND)return null;var O=b.linkUrl,j=b.title,E=b.branding,A=b.imageUrl,S=b.pixels,N=b.id;Object(r.j)((function(){j&&!g&&Object(c.kb)(j,null,!0).then((function(t){return w({__html:"".concat(t)})}))}),[j]);var T={width:l};return r.f.createElement("div",{className:"csw-ae civic-ad"},u&&r.f.createElement("a",{href:O,title:j,className:"csw-ae-image-link",onClick:function(){if(N&&o({space:"ae",type:a.m.Clk,data:{id:N,platform:s}}),S&&Object(c.N)(S)){var t=S.filter((function(t){return"click"===t.event})).map((function(t){return t.url}));Object(c.n)(t)}},target:"_blank",rel:"noopener noreferrer"},A&&r.f.createElement("img",{src:A,alt:E||j,style:T}),g&&r.f.createElement("figcaption",{className:"csw-ae-fig-caption",dangerouslySetInnerHTML:g})))})),b=function(t){var e=t.portalUrl,n=t.rootbeer;return r.f.createElement(d,{rootbeer:n,getAd:c.b.getMSNAdImage,portalUrl:e})},m=n(4);function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(c.push(r.value),!e||c.length!==e);o=!0);}catch(t){i=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v=function(t){var e=t.rootbeer;if(!e)return null;var n=Object(r.m)(null),o=e.zid,i=e.pid,l=e.width,u=e.height,f=e.rotate,s=m.a.protocol,d=p(Object(r.n)(!1),2),b=d[0],y=d[1],v=function(t){return"".concat(t,"htlbid.com/v3/civicscience.com/htlbid.js")}(s);Object(r.j)((function(){!b&&h()}),[e]);var h=function(){y(!0);var t=document.getElementsByTagName("head")[0];Object(c.c)("//tagan.adlightning.com/civicsciencedfp/op.js","".concat(a.k.AdEngageLightningScript,"file"),t,!0),Object(c.c)(v,"".concat(a.k.AdEngageHtlScript,"file"),t),f&&(document.addEventListener("".concat(a.f).concat(a.i.QuestionAnswered),(function(){return g()})),document.addEventListener("".concat(a.f).concat(a.i.BeforeShowingResults),(function(){return g()})),document.addEventListener("".concat(a.f).concat(a.i.ResultDeparted),(function(){return g()})),document.addEventListener("".concat(a.f).concat(a.i.ASRefresh),(function(){return g()})))},g=function(){var t=window.civicbid||{};t.cmd=t.cmd||[],n&&n.current&&t.cmd.push((function(){t.forceRefresh(o)}))};return r.f.createElement("div",{className:"csw-ae civic-ad",ref:n,"data-ref":o,"data-unit":i,"data-eager":"","data-sizes":"".concat(l,"x").concat(u),"data-prebid":i})};function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(c.push(r.value),!e||c.length!==e);o=!0);}catch(t){i=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var w=function(t,e,n){return"".concat(t,"bluellipse.advertserve.com/servlet/view/banner/url/zone?zid=").concat(e,"&pid=").concat(n,"&date=").concat(Date.now())},O=function(t){var e=t.rootbeer;if(!e)return null;var n=e.zid,c=e.pid,o=e.rotate,i=m.a.protocol,l=Object(r.m)(null),u=h(Object(r.n)(!1),2),f=u[0],s=u[1],d=h(Object(r.n)(null),2),b=d[0],p=d[1];Object(r.j)((function(){!f&&v()}),[e]);var y=function(){l&&l.current&&p(w(i,n,c))},v=function(){s(!0);var t=w(i,n,c);p(t),o&&(document.addEventListener("".concat(a.f).concat(a.i.QuestionAnswered),(function(){return y()})),document.addEventListener("".concat(a.f).concat(a.i.BeforeShowingResults),(function(){return y()})),document.addEventListener("".concat(a.f).concat(a.i.ResultDeparted),(function(){return y()})),document.addEventListener("".concat(a.f).concat(a.i.ASRefresh),(function(){return y()})))};return b?r.f.createElement("iframe",{ref:l,className:"csw-ae csw-be-ae",src:b}):null},j=function(t){var e=t.portalUrl,n=t.rootbeer;return r.f.createElement(d,{rootbeer:n,getAd:c.b.getTaboolaAdImage,portalUrl:e})};function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(c.push(r.value),!e||c.length!==e);o=!0);}catch(t){i=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S=function(t){var e=t.rootbeer,n=t.nextHandler;if(!e)return null;var a=Object(r.m)(null),o=E(Object(r.n)(!1),2),i=o[0],l=o[1],u=Object(c.lb)(e),f=u.width,s=u.height,d=u.css,b=void 0===d?{}:d,p=Object.assign({},b,{width:f,height:s});Object(r.j)((function(){!i&&v()}),[e,i]);var y=["padding: 0","margin: 0","overflow: hidden","position: relative"].join(";"),v=function(){l(!0),fetch(function(t){var e,n=m.a.protocol,r=t.pid,a=t.zid,o=t.width,i=t.height,l=Object(c.D)();try{e=new URL(l).host}catch(t){e=l}e=encodeURIComponent(e);var u=n.includes("https")?1:0,f=encodeURIComponent(l),s="".concat(n,"nep.advangelists.com/xp/js"),d=Object(c.ab)({pubid:a,placement:r,width:o,height:i,domain:e,appname:e,displaytype:"banner",isapp:0,cats:"[APP_IAB_CATEGORY]",dnt:"[DO_NOT_TRACK_1_OR_0]",page:f,bcat:"",fb:"",secure:u,fmt:"html"});return"".concat(s,"?").concat(d)}(e)).then((function(t){200!==t.status?n():t.text().then((function(t){if(!Object(c.U)(t)&&a.current){var e=a.current.contentDocument,n=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim();if(Object(c.U)(t))return null;var e=document.createElement("div");return e.innerHTML=t,e}(t);e&&e.body&&(e.body.style.cssText=y,n&&e.body.appendChild(n))}}))}))};return r.f.createElement("iframe",{style:p,ref:a,className:"csw-ae csw-adv-ae"})};n(63);function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(c.push(r.value),!e||c.length!==e);o=!0);}catch(t){i=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.default=function(t){var e=t.bootstrap,n=void 0===e?{}:e,o=t.config,l=void 0===o?{}:o,u=t.headStyle,f=t.appMode,s=t.onBtnClick,d=n.id,m=l.rootbeer,p=l.portalUrl,y=l.partnerWidgetCss,h=m||{},g=h.platform,w=h.width,E=h.height,A=h.placement,T=h.css,U=void 0===T?{}:T,_=h.decorate,I=N(Object(r.n)(!1),2),C=I[0],R=I[1],k=N(Object(r.n)(!1),2),L=k[0],x=k[1],B=Object(r.m)(null),M="csw-ae-wrapper outline",D=document.getElementsByTagName("head")[0],z=f===a.c.Ad;if(!m||!Object(c.M)(m,g))return null;Object(r.j)((function(){!C&&d&&(R(!0),c.ob.sanitizedAdEngageStyles(y,d,".".concat(M),D)),u&&!L&&(x(!0),c.ob.sanitizedAdEngageHeadStyles(u,d,D))}),[l,u]),Object(r.j)((function(){z&&Object(c.bb)(B)}),[z,B]);var H=Object(c.U)(A)||A===a.a.Left||A===a.a.Before,P=f===a.c.Ad?{}:Object.assign({},U,{width:w,height:E}),Q="".concat(M," ").concat(f!==a.c.Ad?"csw-ae-block":""," ").concat(H?"csw-ae-first":"");return f===a.c.Ad||f===a.c.WidgetAd?r.f.createElement("div",{className:"csw-ae-wide"},r.f.createElement("div",{style:P,className:Q,id:"csw-ae-wrapper_".concat(d),ref:B,tabIndex:"-1","aria-label":i.a.t("SPONSORED_LABEL")},_&&r.f.createElement("p",{className:"csw-ae-sponsor"},i.a.t("SPONSORED_CONTENT")),r.f.createElement("div",{className:"csw-ae-platforms"},g===a.b.htl&&r.f.createElement(v,{rootbeer:m}),g===a.b.msn&&r.f.createElement(b,{rootbeer:m}),g===a.b.taboola&&r.f.createElement(j,{rootbeer:m}),g===a.b.bluellipse&&r.f.createElement(O,{rootbeer:m}),g===a.b.advangelists&&r.f.createElement(S,{rootbeer:m,nextHandler:s}))),r.f.createElement("div",{className:"csw-ae-btns csw-btns csw-stretch"},A===a.a.Start&&r.f.createElement("button",{type:"button",className:"csw-btn csw-btn-em csw-btn-primary",onClick:s},i.a.t("BRING_ON_THE_QUESTIONS")),A===a.a.Mid&&r.f.createElement("button",{type:"button",className:"csw-btn csw-btn-em csw-btn-primary",onClick:s},i.a.t("BUTTON_SEE_RESULTS")),A===a.a.Question&&r.f.createElement("button",{type:"button",className:"csw-btn csw-btn-em csw-btn-primary",onClick:s},i.a.t("BUTTON_NEXT_QUESTION")),A===a.a.Result&&r.f.createElement("button",{type:"button",className:"csw-btn csw-btn-em csw-btn-primary",onClick:s},i.a.t("BUTTON_SEE_NEXT_RESULT")),A===a.a.End&&p&&r.f.createElement("a",{className:"csw-btn csw-btn-em csw-btn-primary",target:"_blank",rel:"noopener noreferrer",href:p},i.a.t("PORTAL_LINK")),A===a.a.End&&!p&&r.f.createElement("button",{type:"button",className:"csw-btn csw-btn-em csw-btn-primary",onClick:s},i.a.t("BUTTON_MORE")))):null}}}]);
//# sourceMappingURL=csw-ae.5.4.0.js.map